<!-- Parts of this code adapted from Angular Material CDK Documentation -->
<ion-app>
  <ion-content>
    <div class="main-container">
      
      <!-- Side Container -->
      <div class="side-container" 
           [ngClass]="{'hidden': !sideContainerVisible}" 
           cdkDropList
           cdkDropListOrientation="vertical"
           #sideList="cdkDropList"
           [cdkDropListData]="sideContainerItems"
           [cdkDropListConnectedTo]="[pageList]"
           id="sideContainer"
           (cdkDropListDropped)="onDrop($event)">
        <div *ngFor="let item of sideContainerItems" 
             [ngClass]="getItemClass(item)"
             cdkDrag
             (cdkDragStarted)="onDragStart($event, item)"
             (cdkDragEnded)="onDragEnd($event, item)">
             <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          {{ item.content }}
          <div class="example-handle" cdkDragHandle></div>
        </div>
      </div>
    
      <!-- Page Container -->
      <div class="page-container"
           [ngClass]="{'full-width': !sideContainerVisible}" 
           cdkDropList
           #pageList="cdkDropList"
           [cdkDropListData]="pageContainerItems"
           [cdkDropListConnectedTo]="[sideList]"
           id="pageContainer"
           (cdkDropListDropped)="onDrop($event)">
        <div *ngFor="let item of pageContainerItems"
             [ngClass]="getItemClass(item)"
             cdkDrag
             (cdkDragStarted)="onDragStart($event, item)"
             (cdkDragEnded)="onDragEnd($event, item)">
          {{ item.content }}
          <div class="example-handle" cdkDragHandle>
            <svg width="18px" fill="currentColor" viewBox="0 0 24 24">
              <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
              <path d="M0 0h24v24H0z" fill="none"></path>
            </svg>
          </div>
        </div>
      </div>
    </div>
        <!-- Toggle Side Container -->
        <div class="toggle-container">
          <ion-item class="toggle-switch">
            <ion-label>Toggle Side Container</ion-label>
            <ion-toggle [(ngModel)]="sideContainerVisible"
                        (ionChange)="toggleSideContainer()"></ion-toggle>
          </ion-item>
        </div>
  </ion-content>
</ion-app>
