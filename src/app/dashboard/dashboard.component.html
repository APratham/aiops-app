
<ion-app>
  <ion-content>
    <div class="main-container">
      
      <!-- Side Container -->
      <div class="side-container" 
           [ngClass]="{'hidden': !sideContainerVisible}" 
           cdkDropList
           cdkDropListOrientation="vertical"
           #sideList="cdkDropList"
           [cdkDropListData]="sideContainerItems"
           [cdkDropListConnectedTo]="[pageList1, pageList2]"
           id="sideContainer"
           (cdkDropListDropped)="onDrop($event)">
        <div *ngFor="let item of sideContainerItems" 
             [ngClass]="getItemClass(item)"
             cdkDrag
             [cdkDragDisabled]="item.disabled"
             (cdkDragStarted)="onDragStart($event, item)"
             (cdkDragEnded)="onDragEnd($event, item)">
             <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          {{ item.content }}
          <div class="example-handle" cdkDragHandle></div>
        </div>
      </div>
    
      <!-- Page Container -->
<div class="page-container"
[ngClass]="{'full-width': !sideContainerVisible}" id="pageContainer">

<!-- Section 1 - Text Area -->
<div class="text-section">
  <h2>
    <span *ngIf="!editMode">{{ title }}</span>
    <input *ngIf="editMode" type="text" [(ngModel)]="title" class="title-input" (blur)="toggleEditMode()" (keyup.enter)="toggleEditMode()"/>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px" (click)="toggleEditMode()" class="edit-icon" *ngIf="!editMode">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
    </svg>
  </h2>
</div>

<!-- Section 1 - Droppable Area -->
<div class="drop-area-one"
cdkDropList
#pageList1="cdkDropList"
[cdkDropListData]="pageContainerItems1"
[cdkDropListConnectedTo]="[sideList]"
(cdkDropListDropped)="onDrop($event)">
<div *ngFor="let item of pageContainerItems1"
    [ngClass]="getItemClass(item)"
    cdkDrag
    [cdkDragDisabled]="item.disabled"
    (cdkDragStarted)="onDragStart($event, item)"
    (cdkDragEnded)="onDragEnd($event, item)">
 {{ item.content }}
 <div class="example-handle" cdkDragHandle>
   <!-- SVG handle for drag icon -->
 </div>
</div>
</div>

<!-- Section 2 - Text Area -->
<div class="text-section">
<h4>Section 2 - More Information</h4>
<p>This is a text block for section 2.</p>
</div>

<!-- Section 2 - Droppable Area -->
<div class="drop-area-two"
cdkDropList
#pageList2="cdkDropList"
[cdkDropListData]="pageContainerItems2"
[cdkDropListConnectedTo]="[sideList]"
(cdkDropListDropped)="onDrop($event)">
<div *ngFor="let item of pageContainerItems2"
    [ngClass]="getItemClass(item)"
    cdkDrag
    [cdkDragDisabled]="item.disabled"
    (cdkDragStarted)="onDragStart($event, item)"
    (cdkDragEnded)="onDragEnd($event, item)">
 {{ item.content }}
 <div class="example-handle" cdkDragHandle>
   <!-- SVG handle for drag icon -->
 </div>
</div>
</div>
</div>

    </div>
        <!-- Toggle Side Container -->
        <div class="toggle-container">
          <ion-item class="toggle-switch">
            <ion-label>Toggle Side Container</ion-label>
            <ion-toggle [(ngModel)]="sideContainerVisible"
                        (ionChange)="toggleSideContainer()"></ion-toggle>
          </ion-item>
        </div>
  </ion-content>
</ion-app>
